# eccube4-blockinstaller
EC-CUBE4で必要なブロックをインストールするプラグイン
テーマ配布のときに便利

## インストール
- プラグイン作成
```
npm run plugin:zip
```

- 管理画面からプラグインインストール

## 使い方
- 管理画面からインストールしたいブロックを選択
- 生成した際のファイル名とレイアウト画面に表示されるブロック名を入力
  - **すでに同じ名前のファイルがある場合は上書きされるので注意！**
- 設定画面右下の登録ボタンでブロックインストール

## プラグインのアンインストール
- プラグインを削除してもブロックは削除されないので個別に消してください

## カスタマイズ
- 以下のファイルの配列をインストールしたいブロック名（ファイル名）に変更
```php
// Form/Type/BlockInstallerConfigType.php

$arrBlock = [
    'bst4_header' => 'ヘッダー',
    'bst4_news' => '新着情報',
];

// 変更例
$arrBlock = [
    'eyecatch' => 'アイキャッチ',
    'banner_campaign' => 'キャンペーンバナー',
    'banner_new_item' => '新着商品バナー',
];
```

- Blockフォルダにインストールしたいブロックファイル(twig)を入れる
- **このとき配列に入力したファイル名（左側）とtwigのファイル名が同じになるように注意**
```
// Resource/template/Block

eyecatch.twig
banner_campaign.twig
banner_new_item.twig
```

- プラグイン作成してインストール
- プラグインを有効化して管理画面からインストールしたいブロックを選択
- ブロックが現在使用中のテンプレートのBlockフォルダに入る（ファイル名は作成時に入力したものに変わる）
- レイアウト設定やブロック編集画面から編集も可能